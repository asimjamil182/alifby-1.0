<section class="{{ section.settings.color_scheme }}">
  <div class="layout bg-backgroundColor">
    {% if section.settings.heading %}
      <div class="section-heading text-center">{{ section.settings.heading }}</div>
    {% endif %}
    {% if section.settings.tagline %}
      <div class="section-tagline text-center">{{ section.settings.tagline }}</div>
    {% endif %}
    <div class="w-full md:w-1/3 mx-auto py-5">
      {% for accordian in section.blocks %}
        <details class="group">
          <summary class="flex justify-between items-center mt-1 {{ settings.btn_style }}">
            <span>{{ accordian.settings.item_title }}</span>
            <svg
              class="w-4 h-4 transform group-open:rotate-180 transition-transform"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </summary>
          <div class="p-4 text-textColor font-sm">
            {{ accordian.settings.item_content }}
          </div>
        </details>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Accordion",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Accordion"
    },
    {
      "type": "textarea",
      "id": "tagline",
      "label": "Tag Line",
      "default": "Tag line text here"
    },
    {
      "type": "header",
      "content": "Section styling"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme"
    }
  ],
  "blocks": [
    {
      "name": "Accordion Item",
      "type": "accordion_item",
      "settings": [
        {
          "type": "text",
          "id": "item_title",
          "label": "Title",
          "default": "Accordion Item"
        },
        {
          "type": "richtext",
          "id": "item_content",
          "label": "Content",
          "default": "<p>Accordion content goes here</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Accordion",
      "blocks": [{ "type": "accordion_item" }, { "type": "accordion_item" }, { "type": "accordion_item" }]
    }
  ],
  "disabled_on": {
    "templates": ["password"],
    "groups": ["footer","header"]
  }
}
{% endschema %}
