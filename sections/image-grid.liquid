<section>
  <div class="layout">
    {% if section.settings.heading %}
      <div class="section-heading">{{ section.settings.heading }}</div>
    {% endif %}
    {% if section.settings.tagline %}
      <div class="section-tagline">{{ section.settings.tagline }}</div>
    {% endif %}
    {% comment %}
      <div class="grid {{ section.settings.col_length }} {{ section.settings.row_length }} {% if section.settings.isgap %}gap-2{% endif %} mt-8">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'grid_span' %}
              <a
                href="{{block.settings.url }}"
                class="{{ block.settings.row_col_span }} {{ block.settings.row_col_start }} bg-disabled border min-w-14 min-h-14"
              >
                {% if block.settings.img_row %}
                  <img
                    src="{{ block.settings.img_row | image_url }}"
                    class="w-full h-full {{ block.settings.img_fit }} {{ block.settings.img_position } p-1}"
                    width=""
                    height=""
                    alt=""
                  >
                {% endif %}
              </a>
            {% else %}

          {% endcase %}
        {% endfor %}
      </div>
    {% endcomment %}
  
    <div class="flex flex-wrap md:flex-nowrap py-1">
      {% for block in section.blocks %}
        <div class="flex-[100%] max-w-[100%] md:flex-[calc(100%/var(--column-size))] md:max-w-[calc(100%/var(--column-size))]">
          {%- if block.settings.img_1 -%}
            <img src="{{ block.settings.img_1 | image_url }}" alt="" width="" height="" class="w-full p-1">
          {%- else -%}
            <img src="https://placehold.co/300x200" alt="Placeholder Image" width="" height="" class="w-full p-1">
          {%- endif -%}
          {%- if block.settings.img_2 -%}
            <img src="{{ block.settings.img_2 | image_url }}" alt="" width="" height="" class="w-full p-1">
          {%- else -%}
            <img src="https://placehold.co/300x200" alt="Placeholder Image" width="" height="" class="w-full p-1">
          {%- endif -%}
          {%- if block.settings.img_3 -%}
            <img src="{{ block.settings.img_3 | image_url }}" alt="" width="" height="" class="w-full p-1">
          {%- else -%}
            <img src="https://placehold.co/300x200" alt="Placeholder Image" width="" height="" class="w-full p-1">
          {%- endif -%}
          {%- if block.settings.img_4 -%}
            <img src="{{ block.settings.img_4 | image_url }}" alt="" width="" height="" class="w-full p-1">
          {%- else -%}
            <img src="https://placehold.co/300x200" alt="Placeholder Image" width="" height="" class="w-full p-1">
          {%- endif -%}
          {%- if block.settings.img_5 -%}
            <img src="{{ block.settings.img_5 | image_url }}" alt="" width="" height="" class="w-full p-1">
          {%- else -%}
            <img src="https://placehold.co/300x200" alt="Placeholder Image" width="" height="" class="w-full p-1">
          {%- endif -%}
      </div>
      {% endfor %}
    </div>
  </div>
</section>
<style>
  :root{
  --column-size:{{ section.blocks.size }};
  }
</style>

{% schema %}
{
  "name": "Image gallery",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Heading"
    },
    {
      "type": "text",
      "id": "tagline",
      "label": "Tag line",
      "default": "Tag line text here"
    }
  ],
  "blocks": [
    {
      "name": "Image Column",
      "type": "image_block",
      "settings": [
         {
           "type": "image_picker",
           "id": "img_1",
           "label": "Image 1"
         },
         {
           "type": "image_picker",
           "id": "img_2",
           "label": "Image 2"
         },
         {
           "type": "image_picker",
           "id": "img_3",
           "label": "Image 3"
         },
         {
           "type": "image_picker",
           "id": "img_4",
           "label": "Image 4"
         },
         {
           "type": "image_picker",
           "id": "img_5",
           "label": "Image 5"
         }
      ],
    }
  ],
  "presets": [
    {
      "name": "Image gallery",
      "settings": {
        
      },
      "blocks": [
        {
          "type": "image_block"
        },
        {
          "type": "image_block"
        },
        {
          "type": "image_block"
        },
        {
          "type": "image_block"
        }
      ]
    }
  ],
  "disabled_on": {
    "templates": ["password"],
    "groups": ["footer","header"]
  }
}
{% endschema %}
