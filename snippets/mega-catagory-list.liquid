<div
  id="catagory-list"
  class="main-menu-item absolute text-textColor z-10 w-auto border transition-opacity duration-300 border-t border-separatorlineColor"
>
  <div class="flex w-full shadow-md">
    <ul class="bg-secondaryColor min-w-[200px] max-w-[300px] relative">
      {% for link in linklists[catagoryMenu].links %}
        <li class="cat-link">
          <div class="flex gap-2 p-2 cursor-pointer hover:text-primaryColor hover:bg-secondaryColor transition-all duration-200 items-center">
            <img src="https://placehold.co/30x30" alt="placeholder" width="30" height="30">
            <span class="flex-1">{{ link.title }}</span>
            {% if link.links.size > 0 %}
              {%- render 'icon', iconName: 'chevron-right', size: '12px' -%}
            {% endif %}
          </div>
          {%- if link.links.size > 0 -%}
            <ul class="cat-link-item bg-secondaryColor absolute left-full top-0 bottom-0 border-l border-separatorlineColor min-w-[150px]">
              <div class="flex w-full">
                {%- for child_link in link.links -%}
                  <div class="flex-1 p-2 hover:bg-secondaryColor hover:text-primaryColor cursor-pointer text-center">
                    {{ child_link.title | truncate: 20 }}
                  </div>
                {%- endfor -%}
              </div>
              <div class="p-4 flex gap-4 text-sm w-full justify-between bg-secondaryColor">
                {%- for child_link in link.links limit: 4 -%}
                  <a class=" block w-[200px]" href="{{ child_link.url }}">
                    {% if child_link.type == 'collection_link' %}
                      {% assign collection_handle = child_link.url | split: '/' | last %}
                      {% assign collection = collections[collection_handle] %}
                      {% if collection.image %}
                        <img
                          class="object-cover"
                          src="{{ collection.image | img_url: '500x500' }}"
                          alt="{{ collection.title }}"
                          width=""
                          height=""
                        >
                      {% else %}
                        <img
                          class="object-cover"
                          src="https://placehold.co/500x500"
                          alt="placeholder"
                          width=""
                          height=""
                        >
                      {% endif %}
                    {% elsif child_link.type == 'product_link' %}
                      {% assign product_handle = child_link.url | split: '/' | last %}
                      {% assign product = all_products[product_handle] %}
                      {% if product.featured_image %}
                        <img
                          class="object-cover"
                          src="{{ product.featured_image | img_url: '500x500' }}"
                          alt="{{ product.title }}"
                          width=""
                          height=""
                        >
                      {% else %}
                        <img
                          class="object-cover"
                          src="https://placehold.co/500x500"
                          alt="placeholder"
                          width=""
                          height=""
                        >
                      {% endif %}

                    {% else %}
                      <img class="object-cover" src="https://placehold.co/500x500" alt="placeholder" width="" height="">
                    {% endif %}

                    <div class="text-sm overflow-hidden text-ellipsis line-clamp-1 py-1" title="{{ child_link.title }}">
                      {{ child_link.title }}
                    </div>
                  </a>
                {%- endfor -%}
              </div>
              {% comment %} {%- if link.links.size > 4 -%}
                <div class="flex justify-end mt-4 p-4">
                  <a href="{{ link.url }}" class=" text-primaryColor">View all</a>
                </div>
              {%- endif -%} {% endcomment %}
            </ul>
          {%- endif -%}
        </li>
      {% endfor %}
    </ul>
  </div>
</div>
