<div
  id="catagory-list"
  class="absolute hidden text-textColor z-10 w-auto border transition-opacity duration-300 border-t border-neutralLightColor"
>
  <div class="flex w-full shadow-md">
    <div class="bg-[#ffff] min-w-[200px] max-w-[300px]">
      {% for link in linklists[catagoryMenu].links %}
        <catagory-link
          is-target="{{ link.child_current  }}"
          target-catgory="{{ link.handle }}"
          class=" hover:text-secondaryColor transition-all duration-200 hover:bg-primaryColor flex items-center justify-between gap-2 p-2 relative cursor-pointer"
        >
          <img src="https://placehold.co/30x30" alt="placeholder" width="30" height="30">
          <span class="flex-1">{{ link.title }}</span>
          {% if link.child_current %}
            {%- render 'icon', iconName: 'chevron-right', size: '12px' -%}
          {% endif %}
        </catagory-link>
      {% endfor %}
      
    </div>
    {% for link in linklists[catagoryMenu].links %}
      {% if link.links.size > 0 %}
        <div
          id="child-cat-{{ link.handle }}"
          class="child-catagory p-4 bg-[#ffff] border-l border-neutralLightColor {% unless forloop.index==1 %}hidden{% endunless %}"
        >
          <div class="flex flex-wrap gap-4 text-sm w-full justify-between">
            {% for child_link in link.links limit: 4 %}
              <div class="w-[200px] relative">
                <a href="{{ child_link.url }}">
                  {% if child_link.type == 'collection_link' %}
                    {% assign collection_handle = child_link.url | split: '/' | last %}
                    {% assign collection = collections[collection_handle] %}
                    {% if collection.image %}
                      <img class="object-cover" src="{{ collection.image | img_url: '500x500' }}" alt="{{ collection.title }}" width="" height="">
                    {% else %}
                      <img class="object-cover" src="https://placehold.co/500x500" alt="placeholder" width="" height="">
                    {% endif %}
                  {% elsif child_link.type == 'product_link' %}
                    {% assign product_handle = child_link.url | split: '/' | last %}
                    {% assign product = all_products[product_handle] %}
                    {% if product.featured_image %}
                      <img class="object-cover" src="{{ product.featured_image | img_url: '500x500' }}" alt="{{ product.title }}" width="" height="">
                    {% else %}
                      <img class="object-cover" src="https://placehold.co/500x500" alt="placeholder" width="" height="">
                    {% endif %}
                    
                  {% else %}
                    <img class="object-cover" src="https://placehold.co/500x500" alt="placeholder" width="" height="">
                  {% endif %}

              {% comment %} {% if collection.image!=empty %}
                  <img class="object-cover" src="{{ collection.image | img_url: '500x500' }}" alt="{{ collection.title }}" width="" height="">
              {% else %}
                  <img class="object-cover" src="https://placehold.co/500x500" alt="placeholder" width="" height="">
              {% endif %} {% endcomment %}
              <div class="text-sm overflow-hidden text-ellipsis line-clamp-1 py-1" title="{{ child_link.title }}">{{ child_link.title }}</div>
              </a>
              </div>


            {% endfor %}
          </div>
          {%- if link.links.size>4 -%}
            <div class="flex justify-end mt-4">
            <a href="{{ link.url }}" class=" text-primaryColor">View all</a>
          </div>
          {%- endif -%}
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>
